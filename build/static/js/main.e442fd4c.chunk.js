(this.webpackJsonpwebclient=this.webpackJsonpwebclient||[]).push([[0],{407:function(e,n,t){e.exports=t.p+"static/media/logo.ced5a95e.svg"},419:function(e,n,t){e.exports=t(497)},424:function(e,n,t){},425:function(e,n,t){},497:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(18),o=t.n(i),c=(t(424),t(69)),l=t(38),u=(t(425),t(23)),m=t(36),s=t(33);function f(){var e=Object(u.a)(["\ncolor: red;\nbackground: #F9E8E8;\n"]);return f=function(){return e},e}var d=s.a.div(f()),b=function(e){return r.a.createElement(d,null,r.a.createElement("pre",null,e.message))},v=t(100),p=t.n(v),E=t(140),j=t.n(E),O=t(402),g=t.n(O),y=t(394),h=t.n(y),C=t(400),k=t.n(C),w=t(273),S=t.n(w),x=t(272),_=t.n(x),I=t(395),A=t.n(I),R=t(141),$=t.n(R),q=t(397),D=t.n(q),F=t(398),P=t.n(F),z=t(399),B=t.n(z),N=t(403),Q=t.n(N),W=t(396),L=t.n(W),M=t(401),G=t.n(M),J=t(404),T=t.n(J),U={Add:Object(a.forwardRef)((function(e,n){return r.a.createElement(j.a,Object.assign({},e,{ref:n}))})),Check:Object(a.forwardRef)((function(e,n){return r.a.createElement(h.a,Object.assign({},e,{ref:n}))})),Clear:Object(a.forwardRef)((function(e,n){return r.a.createElement(_.a,Object.assign({},e,{ref:n}))})),Delete:Object(a.forwardRef)((function(e,n){return r.a.createElement(A.a,Object.assign({},e,{ref:n}))})),DetailPanel:Object(a.forwardRef)((function(e,n){return r.a.createElement(S.a,Object.assign({},e,{ref:n}))})),Edit:Object(a.forwardRef)((function(e,n){return r.a.createElement($.a,Object.assign({},e,{ref:n}))})),Export:Object(a.forwardRef)((function(e,n){return r.a.createElement(L.a,Object.assign({},e,{ref:n}))})),Filter:Object(a.forwardRef)((function(e,n){return r.a.createElement(D.a,Object.assign({},e,{ref:n}))})),FirstPage:Object(a.forwardRef)((function(e,n){return r.a.createElement(P.a,Object.assign({},e,{ref:n}))})),LastPage:Object(a.forwardRef)((function(e,n){return r.a.createElement(B.a,Object.assign({},e,{ref:n}))})),NextPage:Object(a.forwardRef)((function(e,n){return r.a.createElement(S.a,Object.assign({},e,{ref:n}))})),PreviousPage:Object(a.forwardRef)((function(e,n){return r.a.createElement(k.a,Object.assign({},e,{ref:n}))})),ResetSearch:Object(a.forwardRef)((function(e,n){return r.a.createElement(_.a,Object.assign({},e,{ref:n}))})),Search:Object(a.forwardRef)((function(e,n){return r.a.createElement(G.a,Object.assign({},e,{ref:n}))})),SortArrow:Object(a.forwardRef)((function(e,n){return r.a.createElement(g.a,Object.assign({},e,{ref:n}))})),ThirdStateCheck:Object(a.forwardRef)((function(e,n){return r.a.createElement(Q.a,Object.assign({},e,{ref:n}))})),ViewColumn:Object(a.forwardRef)((function(e,n){return r.a.createElement(T.a,Object.assign({},e,{ref:n}))}))};function V(){var e=Object(u.a)(["\nword-break: break-all;\n"]);return V=function(){return e},e}function H(){var e=Object(u.a)(["\nmax-width: 100%\n"]);return H=function(){return e},e}var K=s.a.div(H()),X=s.a.div(V()),Y=function(e){return r.a.createElement(K,null,r.a.createElement(p.a,{icons:U,columns:[{title:"Name",field:"name",render:function(e){return r.a.createElement(c.b,{to:"/investor/".concat(e.id)},r.a.createElement("img",{src:e.photo_thumbnail,alt:e.name}),e.name)}},{title:"Investments",field:"investments",render:function(e){return r.a.createElement(X,null,e.investments)}}],data:e.tableData,options:{rowStyle:{fontSize:"12px"},pageSize:10},title:"Investors"}))};function Z(){var e=Object(u.a)(["\n  query GetInvestors {\n    investor(limit: 100) {\n      id\n      name\n      photo_thumbnail\n      investments{\n        company{\n          name\n        }\n      }\n    }\n  }\n"]);return Z=function(){return e},e}var ee=Object(m.gql)(Z()),ne=function(){var e=Object(m.useQuery)(ee),n=e.loading,t=e.error,a=e.data;if(n)return r.a.createElement("p",null,"Loading...");if(t)return r.a.createElement(b,{message:t.message});if(0===a.investor.length)return r.a.createElement("p",null,"The database is empty!");var i=a.investor.map((function(e){return{id:e.id,name:e.name,photo_thumbnail:e.photo_thumbnail,investments:e.investments.map((function(e){return e.company.name})).join(", ")}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,{tableData:i}))};function te(){var e=Object(u.a)(["\ntext-decoration: none;\n&:focus, &:hover, &:visited, &:link, &:active {\ntext-decoration: none;\n}\n"]);return te=function(){return e},e}function ae(){var e=Object(u.a)(["\nword-break: break-all;\n"]);return ae=function(){return e},e}function re(){var e=Object(u.a)(["\nmax-width: 100%\n"]);return re=function(){return e},e}var ie=s.a.div(re()),oe=s.a.div(ae()),ce=Object(s.a)(c.b)(te()),le=function(e){return r.a.createElement(ie,null,r.a.createElement(p.a,{icons:U,columns:[{title:"Name",field:"name",render:function(e){return r.a.createElement(ce,{to:"company/".concat(e.id)},e.name)}},{title:"Investors",field:"investors",render:function(e){return r.a.createElement(oe,null,e.investors)}}],data:e.tableData,options:{rowStyle:{fontSize:"12px"},pageSize:10},title:"Companies"}))};function ue(){var e=Object(u.a)(["\n    query Get_Companies {\n        company(limit: 100) {\n            id\n            name\n            investments {\n                investor {\n                    name\n                }\n            }\n        }\n    }"]);return ue=function(){return e},e}var me=Object(m.gql)(ue()),se=function(){var e=Object(m.useQuery)(me),n=e.data,t=e.loading,a=e.error;if(t)return r.a.createElement("p",null,"Loading...");if(a)return r.a.createElement(b,{message:a.message});console.log(n.company);var i=n.company.map((function(e){return{id:e.id,name:e.name,investors:e.investments.map((function(e){return e.investor.name})).join(", ")}}));return r.a.createElement(le,{tableData:i})},fe=t(407),de=t.n(fe);function be(){var e=Object(u.a)(["\n        text-align: left;\n        padding: 20px 0px 20px 20px;\n    "]);return be=function(){return e},e}var ve=function(){var e=s.a.header(be());return r.a.createElement(e,null,r.a.createElement("img",{src:de.a,alt:"InvestorBook"}))},pe=t(58);function Ee(){var e=Object(u.a)(["\n    text-decoration: none;\n    font-weight: bold;\n    color: ",";\n    &:focus, &:hover, &:visited, &:link, &:active {\n        text-decoration: none;\n    }\n"]);return Ee=function(){return e},e}function je(){var e=Object(u.a)(["\n        margin-bottom: 2px;\n    "]);return je=function(){return e},e}function Oe(){var e=Object(u.a)(["\n        margin:0 10px 0 10px;\n        padding-bottom: 4px;\n        display: inline;\n        cursor: pointer;\n        border-bottom: ",";\n    "]);return Oe=function(){return e},e}function ge(){var e=Object(u.a)(["\n        margin:0 0 0 10px;\n        padding: 0;\n        text-align: left;\n        list-style-type: none;\n    "]);return ge=function(){return e},e}var ye=s.a.ul(ge()),he=s.a.li(Oe(),(function(e){return e.isSelected?"solid 5px #3C3939":"none"})),Ce=s.a.hr(je()),ke=Object(s.a)(c.b)(Ee(),(function(e){return e.isSelected?"black":"#adadad"})),we=function(e){var n=Object(a.useState)(0),t=Object(pe.a)(n,2),i=t[0],o=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ye,null,e.tabs.map((function(e,n){return r.a.createElement(he,{isSelected:n===i,key:e.name,onClick:function(){return o(n)}},r.a.createElement(ke,{to:e.link,isSelected:n===i},e.name))}))),r.a.createElement(Ce,null),e.render())},Se=t(231),xe=t.n(Se),_e=t(230),Ie=t.n(_e),Ae=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)},Re=[{title:"Name",field:"investor"},{title:"Amount",field:"amount",render:function(e){return r.a.createElement("div",null,Ae(e.amount))}}],$e=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{icons:U,columns:Re,data:e.tableData,options:{rowStyle:{fontSize:"12px"},pageSize:10,search:!1,actionsColumnIndex:-1,toolbarButtonAlignment:"left"},actions:[{icon:function(){return r.a.createElement($.a,null)},tooltip:"Edit",onClick:function(e,n){return console.log(n.name)}},{icon:function(){return r.a.createElement(Ie.a,null)},tooltip:"Delete",onClick:function(e,n){return console.log(n.name)}},{icon:function(){return r.a.createElement(j.a,null)},tooltip:"Add Investment",isFreeAction:!0,onClick:function(e){return console.log(e)}}],title:"Investors"}))};function qe(){var e=Object(u.a)(["\n    query Get_Company_By_Pk($id: Int!) {\n        company_by_pk(id: $id) {   \n            investments {\n                amount\n                investor {\n                    name\n                }\n            }\n        }\n    }\n"]);return qe=function(){return e},e}function De(){var e=Object(u.a)(["\n    padding: 0 10px 0 10px;\n"]);return De=function(){return e},e}function Fe(){var e=Object(u.a)(["\n    width: 100%;\n"]);return Fe=function(){return e},e}function Pe(){var e=Object(u.a)(["\n    display: flex;\n"]);return Pe=function(){return e},e}var ze=s.a.div(Pe()),Be=s.a.div(Fe()),Ne=Object(s.a)(c.b)(De()),Qe=Object(m.gql)(qe()),We=function(){var e=Object(l.f)().id,n=Object(m.useQuery)(Qe,{variables:{id:e}}),t=n.data,a=n.loading;if(n.error)return r.a.createElement(b,null);if(a)return r.a.createElement("p",null,"Loading...");var i=t.company_by_pk.investments.map((function(e){return{investor:e.investor.name,amount:e.amount}}));return r.a.createElement(ze,null,r.a.createElement(Ne,{to:"/companies"},r.a.createElement(xe.a,null)),r.a.createElement(Be,null,r.a.createElement($e,{tableData:i})))},Le=t(357),Me=t(353),Ge=t(523),Je=t(525),Te=t(524),Ue=t(529),Ve=t(530),He=function(e){var n=Object(a.useState)(null),t=Object(pe.a)(n,2),i=t[0],o=t[1],c=Object(a.useState)(0),l=Object(pe.a)(c,2),u=l[0],m=l[1];return r.a.createElement("div",null,r.a.createElement(Ge.a,{open:e.open,onClose:e.onClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ve.a,{id:"form-dialog-title"},"Add Investment"),r.a.createElement(Te.a,null,r.a.createElement(Ue.a,null,"Please enter the details of the investment."),r.a.createElement(Me.a,{autoFocus:!0,margin:"dense",id:"name",label:"Select Company",type:"text",fullWidth:!0,onChange:function(e){return o(e.target.value)}}),r.a.createElement(Me.a,{margin:"dense",id:"name",label:"Investment Amount",type:"number",fullWidth:!0,onChange:function(e){return m(e.target.value)}})),r.a.createElement(Je.a,null,r.a.createElement(Le.a,{onClick:e.onClose,color:"primary"},"Cancel"),r.a.createElement(Le.a,{onClick:function(){return e.onSubmit({company:i,investment:u})},variant:"contained",color:"primary"},"Add Company"))))},Ke=function(e){var n=Object(a.useState)(""),t=Object(pe.a)(n,2),i=t[0],o=t[1],c=Object(a.useState)(0),l=Object(pe.a)(c,2),u=l[0],m=l[1],s=e.investment||{},f=s.name,d=s.amount;return Object(a.useEffect)((function(){f!==i&&o(f),u!==d&&m(d)}),[f,i,u,d]),r.a.createElement("div",null,r.a.createElement(Ge.a,{open:e.open,onClose:e.onClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ve.a,{id:"form-dialog-title"},"Edit Investment"),r.a.createElement(Te.a,null,r.a.createElement(Ue.a,null,"Please enter the details of the investment."),r.a.createElement(Me.a,{autoFocus:!0,margin:"dense",id:"name",label:"Select Company",type:"text",fullWidth:!0,value:i,disabled:!0}),r.a.createElement(Me.a,{margin:"dense",id:"name",label:"Investment Amount",type:"number",fullWidth:!0,value:u,onChange:function(e){return m(e.target.value)}})),r.a.createElement(Je.a,null,r.a.createElement(Le.a,{onClick:e.onClose,color:"primary"},"Cancel"),r.a.createElement(Le.a,{onClick:function(){return e.onSubmit({id:e.investment.id,name:i,amount:u})},variant:"contained",color:"primary"},"Save Company"))))};function Xe(){var e=Object(u.a)(["\n    mutation Delete_Investment_By_Pk($id: Int!) {\n        delete_investment_by_pk(id: $id){\n            id\n        }\n    }\n"]);return Xe=function(){return e},e}function Ye(){var e=Object(u.a)(["\n    mutation Edit_Investment($id: Int!, $amount: numeric!) {\n        update_investment_by_pk(pk_columns: {id: $id}, _set: {amount: $amount}){\n            amount\n        }\n    }\n"]);return Ye=function(){return e},e}function Ze(){var e=Object(u.a)(["\n    mutation Add_Investment($amount: numeric!, $name: String!, $investor: Int!) {\n    insert_investment(objects: {amount: $amount, company: {data: {name: $name}}, investor_id: $investor}) {\n        returning {\n        amount\n            company {\n                name\n            }\n        }\n    }\n    }\n"]);return Ze=function(){return e},e}var en=[{title:"Id",field:"id",hidden:!0},{title:"Name",field:"name"},{title:"Amount",field:"amount",render:function(e){return r.a.createElement("div",null,Ae(e.amount))}}],nn=Object(m.gql)(Ze()),tn=Object(m.gql)(Ye()),an=Object(m.gql)(Xe()),rn=function(e){var n=Object(a.useState)(!1),t=Object(pe.a)(n,2),i=t[0],o=t[1],c=Object(a.useState)(!1),l=Object(pe.a)(c,2),u=l[0],s=l[1],f=Object(a.useState)(null),d=Object(pe.a)(f,2),b=d[0],v=d[1],E=Object(a.useState)(null),O=Object(pe.a)(E,2),g=O[0],y=O[1],h=Object(m.useMutation)(nn,{refetchQueries:[{query:dn,variables:{id:e.investor}}]}),C=Object(pe.a)(h,1)[0],k=Object(m.useMutation)(tn,{refetchQueries:[{query:dn,variables:{id:e.investor}}]}),w=Object(pe.a)(k,1)[0],S=Object(m.useMutation)(an,{refetchQueries:[{query:dn,variables:{id:e.investor}}]}),x=Object(pe.a)(S,1)[0];Object(a.useEffect)((function(){b&&C({variables:{investor:e.investor,name:b.company,amount:b.investment}})}),[b,C]),Object(a.useEffect)((function(){g&&w({variables:{id:g.id,amount:g.amount}})}),[g,w]);var _=Object(a.useCallback)((function(){o(!1)}),[o]),I=Object(a.useCallback)((function(){s(!1)}),[s]),A=Object(a.useCallback)((function(e){o(!1),v(e)}),[o,v]),R=Object(a.useCallback)((function(e){s(!1),y(e)}),[s,y]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{icons:U,columns:en,data:e.tableData,options:{rowStyle:{fontSize:"12px"},pageSize:10,search:!1,actionsColumnIndex:-1,toolbarButtonAlignment:"left"},actions:[{icon:function(){return r.a.createElement($.a,null)},tooltip:"Edit",onClick:function(e,n){s(!0),console.log(n.id),y({id:n.id,name:n.name,amount:n.amount})}},{icon:function(){return r.a.createElement(Ie.a,null)},tooltip:"Delete",onClick:function(e,n){return x({variables:{id:n.id}})}},{icon:function(){return r.a.createElement(j.a,null)},tooltip:"Add Investment",isFreeAction:!0,onClick:function(e){return o(!0)}}],title:"Investments"}),r.a.createElement(He,{open:i,onClose:_,onSubmit:A}),r.a.createElement(Ke,{open:u,investment:g,onClose:I,onSubmit:R}))};function on(){var e=Object(u.a)(["\n    query Get_Companies($id: Int!) {\n        investor_by_pk(id: $id) {\n            investments {\n                id\n                amount\n                company {\n                    name\n                }\n            }\n        }\n    }\n"]);return on=function(){return e},e}function cn(){var e=Object(u.a)(["\n    padding: 0 10px 0 10px;\n"]);return cn=function(){return e},e}function ln(){var e=Object(u.a)(["\n    width: 100%;\n"]);return ln=function(){return e},e}function un(){var e=Object(u.a)(["\n    display: flex;\n"]);return un=function(){return e},e}var mn=s.a.div(un()),sn=s.a.div(ln()),fn=Object(s.a)(c.b)(cn()),dn=Object(m.gql)(on()),bn=function(e){var n=Object(l.f)().id,t=Object(m.useQuery)(dn,{variables:{id:n}}),a=t.data,i=t.loading;if(t.error)return r.a.createElement(b,null);if(i)return r.a.createElement("p",null,"Loading...");var o=a.investor_by_pk.investments.map((function(e){return{id:e.id,amount:e.amount,name:e.company.name}}));return r.a.createElement(mn,null,r.a.createElement(fn,{to:"/investments"},r.a.createElement(xe.a,null)),r.a.createElement(sn,null,r.a.createElement(rn,{investor:n,tableData:o})))};var vn=function(){var e=[{name:"Investors",link:"/investors"},{name:"Companies",link:"/companies"}];return r.a.createElement("div",{className:"App"},r.a.createElement(ve,null),r.a.createElement(c.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/investors"},r.a.createElement(we,{tabs:e,render:function(){return r.a.createElement(ne,null)}})),r.a.createElement(l.a,{path:"/companies"},r.a.createElement(we,{tabs:e,render:function(){return r.a.createElement(se,null)}})),r.a.createElement(l.a,{path:"/investor/:id"},r.a.createElement(bn,null)),r.a.createElement(l.a,{path:"/company/:id"},r.a.createElement(We,null)),r.a.createElement(l.a,{path:"/"},r.a.createElement(we,{tabs:e,render:function(){return r.a.createElement(ne,null)}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pn=new m.ApolloClient({uri:"https://electric-kangaroo-87.hasura.app/v1/graphql",cache:new m.InMemoryCache});o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m.ApolloProvider,{client:pn},r.a.createElement(vn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[419,1,2]]]);
//# sourceMappingURL=main.e442fd4c.chunk.js.map